<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE struts PUBLIC
    "-//Apache Software Foundation//DTD Struts Configuration 2.3//EN"
    "http://struts.apache.org/dtds/struts-2.3.dtd">
<struts>
	<package name="main" extends="struts-default">
		<interceptors>
			<interceptor name="authinterceptor"
				class="com.techlab.interceptor.AuthInterceptor"></interceptor>
		</interceptors>

		<action name="users"
			class="com.techlab.action.DisplayUserAction">
			<interceptor-ref name="params"></interceptor-ref>
			<interceptor-ref name="authinterceptor" />
			<result name="login" type="chain">login</result>
			<result name="success">view/display_user.jsp</result>

		</action>
		<action name="login">
			<result name="success">view/login.jsp</result>

		</action>
		<action name="register">
			<result name="success">view/register.jsp</result>
		</action>

		<action name="registerDo"
			class="com.techlab.action.RegisterAction">
			<result name="input">view/register.jsp</result>
			<result name="success" type="redirect">login</result>
		</action>
		<action name="loginDo" class="com.techlab.action.LoginAction">
			<result name="input">view/login.jsp</result>
			<result name="success" type="redirect">users</result>
		</action>

		<action name="addUserBtn">
			<interceptor-ref name="params"></interceptor-ref>
			<interceptor-ref name="authinterceptor" />
			<result name="login" type="chain">login</result>
			<result name="success">view/add_user.jsp</result>
		</action>
		<action name="addUser" class="com.techlab.action.AddUserAction">
			<result name="input">view/add_user.jsp</result>
			<result name="success" type="chain">users</result>
		</action>
		<action name="deleteUserBtn"
			class="com.techlab.action.DeleteUserAction">

			<result name="success" type="redirect">users</result>
		</action>
		<action name="editUserBtn"
			class="com.techlab.action.EditUserAction">
			<result name="success">view/edit_user.jsp</result>
		</action>
		<action name="editUser"
			class="com.techlab.action.EditUserAction" method="doEditUser">
			<result name="input">view/edit_user.jsp</result>
			<result name="success" type="redirect">users</result>
		</action>

		<action name="showtask"
			class="com.techlab.action.DisplayTaskAction">
			<interceptor-ref name="params"></interceptor-ref>
			<interceptor-ref name="authinterceptor" />
			<result name="login" type="chain">login</result>
			<result name="success">view/display_task.jsp</result>
		</action>

		<action name="addTaskBtn">
			<interceptor-ref name="params"></interceptor-ref>
			<interceptor-ref name="authinterceptor" />
			<result name="login" type="chain">login</result>
			<result name="success">view/add_task.jsp</result>
		</action>

		<action name="addTask" class="com.techlab.action.AddTaskAction">
			<result name="input">view/add_task.jsp</result>
			<result name="success" type="redirect">showtask</result>
		</action>
	</package>
</struts>